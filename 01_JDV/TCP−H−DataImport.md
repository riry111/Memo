##TPC-H DBベンチマーク環境構築----[備忘録]下記を利用すれば簡単に環境が作れるとの事。	<https://github.com/sshtmc/pg-tpch>----1. 下記の1より　「tcp-paches」をダウンロードし展開2. install.sh の　PREFIXを修正		< #PREFIX=$(readlink -f $PREFIX)		< PREFIX=/Users/mamurai/Documents/01_Middle/DB-BenchMark/TPC-H/tools3. PostgreSQL用のインストールスクリプトを実行	
		$ ./install.sh postgres	※[2]の対策として次の2ファイルの修正が必要		./src/tpch_2_17_0/dbgen/bm_utils.c		./src/tpch_2_17_0/dbgen/varsub.c4. テーブルの作成	テーブル作成スクリプトは、./src/tpch_2_17_0/dbgen/dss.ddlユーザー作成を含めたスクリプトを下記に準備(dss.ddlに次の4行を加えたもの)		drop database IF EXISTS tpch;		drop user IF EXISTS jpcustomers;		create user tpch PASSWORD 'tpch';		create database tpch owner tpch encoding 'UTF8';
5. dbgen を用いてデータを作成	~~~	$ cd tools	$ mkdir data	$ cd data	$ ../bin/dbgen -s 1	$ ls	customer.tbl	lineitem.tbl	nation.tbl	orders.tbl	part.tbl	~~~6. データをインポート	~~~	$ psql -U tpch -D tpch	\copy customer from '/tmp/data/customer.tbl' USING DELIMITERS '|' ;	\copy lineitem from '/tmp/data/lineitem.tbl' USING DELIMITERS '|' ;	\copy nation from '/tmp/data/nation.tbl' USING DELIMITERS '|' ;	\copy part from '/tmp/data/part.tbl' USING DELIMITERS '|' ;	\copy partsupp from '/tmp/data/partsupp.tbl' USING DELIMITERS '|' ;	\copy region from '/tmp/data/region.tbl' USING DELIMITERS '|' ;	\copy supplier from '/tmp/data/supplier.tbl' USING DELIMITERS '|' ;	~~~	7. インデックスの作成	~~~	\i  /Users/mamurai/Documents/01_Middle/DB-BenchMark/TPC-H/tools/src/tpch_2_17_0/dbgen/dss.ri~~~8. SQL生成	~~~	$ for i in $(seq 1 22); do ../bin/qgen -s 1 $i > $i.sql; done	$ ls	1.sql	10.sql	11.sql	12.sql	13.sql	14.sql	15.sql	16.sql	17.sql	18.sql	19.sql	2.sql	20.sql	21.sql	22.sql	3.sql	4.sql	5.sql	6.sql	7.sql	8.sql	9.sql	~~~9. SQLの実行	~~~	$ psql -U tpch -D tpch < 1.sql	~~~以　上---[1]TCP-H インストール用ツール　DBGenのコンパイルツール<http://itiut.hatenablog.com/entry/2014/06/24/050917> <br><https://github.com/itiut/tpch-patches>[2]コンパイル時に malloc.h が見つからないエラー発生	=> #include <malloc.h> を #include <malloc/malloc.h> に変更。格納場所が/usr/include/malloc/malloc.h というパスのため。[参考URL] <http://d.hatena.ne.jp/mujiryouhin/20091211/1260502383>~~~gcc -g -DDBNAME=\"dss\" -DLINUX -DPOSTGRES -DTPCH -DRNG_TEST -D_FILE_OFFSET_BITS=64    -c -o varsub.o varsub.cvarsub.c:44:10: fatal error: 'malloc.h' file not found~~~